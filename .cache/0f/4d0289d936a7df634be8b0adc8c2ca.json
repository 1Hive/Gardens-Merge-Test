{"id":"vwg0","dependencies":[{"name":"/Users/rodrigoperez/Development/1Hive/honey-pot/.babelrc","includedInParent":true,"mtime":1597347064380},{"name":"/Users/rodrigoperez/Development/1Hive/honey-pot/package.json","includedInParent":true,"mtime":1597795534337},{"name":"react","loc":{"line":1,"column":24},"parent":"/Users/rodrigoperez/Development/1Hive/honey-pot/src/hooks/useSelectedProposal.js","resolved":"/Users/rodrigoperez/Development/1Hive/honey-pot/node_modules/react/index.js"},{"name":"react-router-dom","loc":{"line":2,"column":28},"parent":"/Users/rodrigoperez/Development/1Hive/honey-pot/src/hooks/useSelectedProposal.js","resolved":"/Users/rodrigoperez/Development/1Hive/honey-pot/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"../providers/AppState","loc":{"line":3,"column":28},"parent":"/Users/rodrigoperez/Development/1Hive/honey-pot/src/hooks/useSelectedProposal.js","resolved":"/Users/rodrigoperez/Development/1Hive/honey-pot/src/providers/AppState.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=o;var e=require(\"react\"),r=require(\"react-router-dom\"),t=require(\"../providers/AppState\"),u=/^\\/proposal\\/([0-9]+)\\/?$/,n=\"-1\";function a(e){if(!e)return n;var r=e.match(u);return r?r[1]:n}function o(u){var o=(0,t.useAppState)().isLoading,i=(0,r.useLocation)();return(0,e.useMemo)(function(){var e=a(i.pathname);return o||e===n?null:u.find(function(r){return Number(r.id)===Number(e)})||null},[o,i.pathname,u])}"},"sourceMaps":{"js":{"mappings":[{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":0}},{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":13}},{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":20}},{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":35}},{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":43}},{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":56}},{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":57}},{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":64}},{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":68}},{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":76}},{"source":"hooks/useSelectedProposal.js","original":{"line":37,"column":1},"generated":{"line":1,"column":84}},{"source":"hooks/useSelectedProposal.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"hooks/useSelectedProposal.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"hooks/useSelectedProposal.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"hooks/useSelectedProposal.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"hooks/useSelectedProposal.js","original":{"line":2,"column":0},"generated":{"line":1,"column":109}},{"source":"hooks/useSelectedProposal.js","original":{"line":2,"column":0},"generated":{"line":1,"column":111}},{"source":"hooks/useSelectedProposal.js","original":{"line":2,"column":0},"generated":{"line":1,"column":119}},{"source":"hooks/useSelectedProposal.js","original":{"line":3,"column":0},"generated":{"line":1,"column":139}},{"source":"hooks/useSelectedProposal.js","original":{"line":3,"column":0},"generated":{"line":1,"column":141}},{"source":"hooks/useSelectedProposal.js","original":{"line":3,"column":0},"generated":{"line":1,"column":149}},{"source":"hooks/useSelectedProposal.js","name":"PROPOSAL_ID_PATH_RE","original":{"line":5,"column":6},"generated":{"line":1,"column":174}},{"source":"hooks/useSelectedProposal.js","original":{"line":5,"column":28},"generated":{"line":1,"column":176}},{"source":"hooks/useSelectedProposal.js","name":"NO_PROPOSAL_ID","original":{"line":6,"column":6},"generated":{"line":1,"column":204}},{"source":"hooks/useSelectedProposal.js","original":{"line":6,"column":23},"generated":{"line":1,"column":206}},{"source":"hooks/useSelectedProposal.js","original":{"line":8,"column":0},"generated":{"line":1,"column":211}},{"source":"hooks/useSelectedProposal.js","name":"idFromPath","original":{"line":8,"column":9},"generated":{"line":1,"column":220}},{"source":"hooks/useSelectedProposal.js","name":"path","original":{"line":8,"column":20},"generated":{"line":1,"column":222}},{"source":"hooks/useSelectedProposal.js","original":{"line":9,"column":6},"generated":{"line":1,"column":225}},{"source":"hooks/useSelectedProposal.js","name":"path","original":{"line":9,"column":7},"generated":{"line":1,"column":229}},{"source":"hooks/useSelectedProposal.js","name":"NO_PROPOSAL_ID","original":{"line":10,"column":11},"generated":{"line":1,"column":231}},{"source":"hooks/useSelectedProposal.js","name":"NO_PROPOSAL_ID","original":{"line":10,"column":11},"generated":{"line":1,"column":238}},{"source":"hooks/useSelectedProposal.js","name":"matches","original":{"line":12,"column":8},"generated":{"line":1,"column":240}},{"source":"hooks/useSelectedProposal.js","name":"matches","original":{"line":12,"column":8},"generated":{"line":1,"column":244}},{"source":"hooks/useSelectedProposal.js","name":"path","original":{"line":12,"column":18},"generated":{"line":1,"column":246}},{"source":"hooks/useSelectedProposal.js","name":"match","original":{"line":12,"column":23},"generated":{"line":1,"column":248}},{"source":"hooks/useSelectedProposal.js","name":"PROPOSAL_ID_PATH_RE","original":{"line":12,"column":29},"generated":{"line":1,"column":254}},{"source":"hooks/useSelectedProposal.js","name":"matches","original":{"line":13,"column":9},"generated":{"line":1,"column":257}},{"source":"hooks/useSelectedProposal.js","name":"matches","original":{"line":13,"column":9},"generated":{"line":1,"column":264}},{"source":"hooks/useSelectedProposal.js","name":"matches","original":{"line":13,"column":19},"generated":{"line":1,"column":266}},{"source":"hooks/useSelectedProposal.js","original":{"line":13,"column":27},"generated":{"line":1,"column":268}},{"source":"hooks/useSelectedProposal.js","name":"NO_PROPOSAL_ID","original":{"line":13,"column":32},"generated":{"line":1,"column":271}},{"source":"hooks/useSelectedProposal.js","original":{"line":17,"column":15},"generated":{"line":1,"column":273}},{"source":"hooks/useSelectedProposal.js","name":"useSelectedProposal","original":{"line":17,"column":24},"generated":{"line":1,"column":282}},{"source":"hooks/useSelectedProposal.js","name":"proposals","original":{"line":17,"column":44},"generated":{"line":1,"column":284}},{"source":"hooks/useSelectedProposal.js","original":{"line":18,"column":24},"generated":{"line":1,"column":287}},{"source":"hooks/useSelectedProposal.js","name":"isLoading","original":{"line":18,"column":10},"generated":{"line":1,"column":291}},{"source":"hooks/useSelectedProposal.js","original":{"line":18,"column":24},"generated":{"line":1,"column":294}},{"source":"hooks/useSelectedProposal.js","original":{"line":17,"column":55},"generated":{"line":1,"column":296}},{"source":"hooks/useSelectedProposal.js","original":{"line":17,"column":55},"generated":{"line":1,"column":298}},{"source":"hooks/useSelectedProposal.js","name":"isLoading","original":{"line":18,"column":10},"generated":{"line":1,"column":313}},{"source":"hooks/useSelectedProposal.js","name":"location","original":{"line":19,"column":8},"generated":{"line":1,"column":323}},{"source":"hooks/useSelectedProposal.js","original":{"line":19,"column":19},"generated":{"line":1,"column":326}},{"source":"hooks/useSelectedProposal.js","original":{"line":19,"column":2},"generated":{"line":1,"column":328}},{"source":"hooks/useSelectedProposal.js","original":{"line":19,"column":2},"generated":{"line":1,"column":330}},{"source":"hooks/useSelectedProposal.js","name":"selectedProposal","original":{"line":36,"column":9},"generated":{"line":1,"column":345}},{"source":"hooks/useSelectedProposal.js","original":{"line":22,"column":27},"generated":{"line":1,"column":352}},{"source":"hooks/useSelectedProposal.js","original":{"line":22,"column":35},"generated":{"line":1,"column":354}},{"source":"hooks/useSelectedProposal.js","original":{"line":22,"column":35},"generated":{"line":1,"column":356}},{"source":"hooks/useSelectedProposal.js","original":{"line":22,"column":35},"generated":{"line":1,"column":365}},{"source":"hooks/useSelectedProposal.js","name":"id","original":{"line":23,"column":10},"generated":{"line":1,"column":376}},{"source":"hooks/useSelectedProposal.js","name":"id","original":{"line":23,"column":10},"generated":{"line":1,"column":380}},{"source":"hooks/useSelectedProposal.js","name":"idFromPath","original":{"line":23,"column":15},"generated":{"line":1,"column":382}},{"source":"hooks/useSelectedProposal.js","name":"location","original":{"line":23,"column":26},"generated":{"line":1,"column":384}},{"source":"hooks/useSelectedProposal.js","name":"pathname","original":{"line":23,"column":35},"generated":{"line":1,"column":386}},{"source":"hooks/useSelectedProposal.js","name":"isLoading","original":{"line":27,"column":8},"generated":{"line":1,"column":396}},{"source":"hooks/useSelectedProposal.js","name":"isLoading","original":{"line":27,"column":8},"generated":{"line":1,"column":403}},{"source":"hooks/useSelectedProposal.js","name":"id","original":{"line":27,"column":21},"generated":{"line":1,"column":406}},{"source":"hooks/useSelectedProposal.js","name":"NO_PROPOSAL_ID","original":{"line":27,"column":28},"generated":{"line":1,"column":410}},{"source":"hooks/useSelectedProposal.js","original":{"line":28,"column":13},"generated":{"line":1,"column":412}},{"source":"hooks/useSelectedProposal.js","name":"proposals","original":{"line":32,"column":6},"generated":{"line":1,"column":417}},{"source":"hooks/useSelectedProposal.js","name":"find","original":{"line":32,"column":16},"generated":{"line":1,"column":419}},{"source":"hooks/useSelectedProposal.js","original":{"line":32,"column":21},"generated":{"line":1,"column":424}},{"source":"hooks/useSelectedProposal.js","name":"proposal","original":{"line":32,"column":21},"generated":{"line":1,"column":433}},{"source":"hooks/useSelectedProposal.js","name":"Number","original":{"line":32,"column":33},"generated":{"line":1,"column":436}},{"source":"hooks/useSelectedProposal.js","name":"Number","original":{"line":32,"column":33},"generated":{"line":1,"column":443}},{"source":"hooks/useSelectedProposal.js","name":"proposal","original":{"line":32,"column":40},"generated":{"line":1,"column":450}},{"source":"hooks/useSelectedProposal.js","name":"id","original":{"line":32,"column":49},"generated":{"line":1,"column":452}},{"source":"hooks/useSelectedProposal.js","name":"Number","original":{"line":32,"column":57},"generated":{"line":1,"column":458}},{"source":"hooks/useSelectedProposal.js","name":"id","original":{"line":32,"column":64},"generated":{"line":1,"column":465}},{"source":"hooks/useSelectedProposal.js","original":{"line":32,"column":72},"generated":{"line":1,"column":471}},{"source":"hooks/useSelectedProposal.js","original":{"line":34,"column":5},"generated":{"line":1,"column":477}},{"source":"hooks/useSelectedProposal.js","name":"isLoading","original":{"line":34,"column":6},"generated":{"line":1,"column":478}},{"source":"hooks/useSelectedProposal.js","name":"location","original":{"line":34,"column":17},"generated":{"line":1,"column":480}},{"source":"hooks/useSelectedProposal.js","name":"pathname","original":{"line":34,"column":26},"generated":{"line":1,"column":482}},{"source":"hooks/useSelectedProposal.js","name":"proposals","original":{"line":34,"column":36},"generated":{"line":1,"column":491}}],"sources":{"hooks/useSelectedProposal.js":"import { useMemo } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport { useAppState } from '../providers/AppState'\n\nconst PROPOSAL_ID_PATH_RE = /^\\/proposal\\/([0-9]+)\\/?$/\nconst NO_PROPOSAL_ID = '-1'\n\nfunction idFromPath(path) {\n  if (!path) {\n    return NO_PROPOSAL_ID\n  }\n  const matches = path.match(PROPOSAL_ID_PATH_RE)\n  return matches ? matches[1] : NO_PROPOSAL_ID\n}\n\n// Get the proposal currently selected, or null otherwise.\nexport default function useSelectedProposal(proposals) {\n  const { isLoading } = useAppState()\n  const location = useLocation()\n\n  // The memoized proposal currently selected.\n  const selectedProposal = useMemo(() => {\n    const id = idFromPath(location.pathname)\n\n    // The `isLoading` check prevents a proposal to be\n    // selected until the app state is fully ready.\n    if (isLoading || id === NO_PROPOSAL_ID) {\n      return null\n    }\n\n    return (\n      proposals.find(proposal => Number(proposal.id) === Number(id)) || null\n    )\n  }, [isLoading, location.pathname, proposals])\n\n  return selectedProposal\n}\n"},"lineCount":null}},"error":null,"hash":"79eca673c6feafe0871b6077c00ec666","cacheData":{"env":{}}}